




@model AcunMedyaTravelProject.Entities.Bookings
@{
    ViewBag.Title = "UpdateBookings";
    Layout = "~/Views/AdminLayout/Index.cshtml";
}



<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

<style>
    body {
        background-color: rgb(210, 208, 160);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .form-container {
        max-width: 650px;
        margin: 40px auto 70px auto;
        padding: 20px;
        background-color: rgb(158, 188, 138);
        border-radius: 20px;
        box-shadow: 0 8px 25px rgba(83, 125, 93, 0.25);
        border: 2px solid rgb(115, 148, 107);
        transition: box-shadow 0.3s ease;
    }

        .form-container:hover {
            box-shadow: 0 12px 40px rgba(83, 125, 93, 0.4);
        }

    .form-label {
        font-weight: 600;
        color: rgb(83, 125, 93);
    }

    .input-group-text {
        background-color: rgb(115, 148, 107);
        border: none;
        color: rgb(210, 208, 160);
        font-size: 1.1rem;
    }

    .form-control {
        border-radius: 10px;
        border: 1.8px solid rgb(115, 148, 107);
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
        font-size: 1rem;
        color: rgb(40, 40, 40);
        background-color: rgb(233, 240, 219);
    }

        .form-control::placeholder {
            color: rgb(100, 120, 90);
            opacity: 0.8;
        }

        .form-control:focus {
            border-color: rgb(83, 125, 93);
            box-shadow: 0 0 8px rgb(83, 125, 93, 0.6);
            background-color: white;
            color: rgb(30, 30, 30);
        }

    .btn-green {
        background-color: rgb(83, 125, 93);
        color: rgb(210, 208, 160);
        font-weight: 700;
        border-radius: 12px;
        padding: 10px 30px;
        font-size: 1.1rem;
        box-shadow: 0 5px 15px rgba(83, 125, 93, 0.4);
        border: none;
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

        .btn-green:hover {
            background-color: rgb(115, 148, 107);
            box-shadow: 0 7px 20px rgba(115, 148, 107, 0.6);
            color: white;
        }

    .img-preview {
        max-height: 200px;
        margin-top: 12px;
        border-radius: 12px;
        box-shadow: 0 3px 12px rgba(83, 125, 93, 0.25);
        display: none;
        width: 100%;
        object-fit: contain;
    }
</style>

<div class="form-container shadow-sm">
    <h2 style="color: rgb(83,125,93); margin-top: 30px; text-align:center;">Rezervasyon Güncelleme Sayfası</h2>
    <form method="post">
        @Html.HiddenFor(x => x.BookingsID)

        <div class="mb-4">
            <label class="form-label">Başlık</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-heading"></i></span>
                @Html.TextBoxFor(x => x.Title, new { @class = "form-control", placeholder = "Etkinlik başlığı" })
            </div>
        </div>

        <div class="mb-4">
            <label class="form-label">Seyahat Başlangıç Tarihi</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                @Html.TextBoxFor(x => x.TravelDateStart, new { @class = "form-control", placeholder = "Seyahat Başlangıç Tarihi" })
            </div>
        </div>

        <div class="mb-4">
            <label class="form-label">Seyahat Bitiş Tarihi</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-calendar-check"></i></span>
                @Html.TextBoxFor(x => x.TravelDateEnd, new { @class = "form-control", placeholder = "Seyahat Bitiş Tarihi" })
            </div>
        </div>

        <div class="mb-4">
            <label class="form-label">Organizatör Adı</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-user-tie"></i></span>
                @Html.TextBoxFor(x => x.OrganizerName, new { @class = "form-control", placeholder = "Organizatör" })
            </div>
        </div>

        <div class="mb-4">
            <label class="form-label">Konum/Yer</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                @Html.TextBoxFor(x => x.Location, new { @class = "form-control", placeholder = "Etkinlik yeri" })
            </div>
        </div>

        <div class="mb-4">
            <label class="form-label">Katılımcı Sayısı</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-users"></i></span>
                @Html.TextBoxFor(x => x.AttendeesCount, new { @class = "form-control", placeholder = "0" })
            </div>
        </div>

        <div class="mb-4">
            <label class="form-label">Resim URL</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-image"></i></span>
                @Html.TextBoxFor(x => x.ImageUrl, new { @class = "form-control", placeholder = "https://...", oninput = "updateImagePreview(this.value)" })
            </div>
            <img id="imagePreview" class="img-preview" />
        </div>

        <div class="text-end">
            <button type="submit" class="btn btn-green px-4"><i class="fas fa-save"></i> Güncelle</button>
        </div>
    </form>
</div>

<script>
    function updateImagePreview(url) {
        const img = document.getElementById("imagePreview");
        if (url && url.startsWith("http")) {
            img.src = url;
            img.style.display = "block";
        } else {
            img.style.display = "none";
        }
    }
</script>